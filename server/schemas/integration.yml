openapi: 3.0.3
info:
  title: ReEarth-CMS Integration API
  description: ReEarth-CMS Integration API
  version: 1.0.0
paths:
  '/{workspaceId}/projects':
    parameters:
      - $ref: '#/components/parameters/workspaceIdParam'
      - $ref: '#/components/parameters/pageParam'
      - $ref: '#/components/parameters/perPageParam'
    get:
      operationId: ProjectFilter
      security:
        - bearerAuth: []
      summary: Returns a list of projects.
      tags:
        - Projects
      description: Returns a list of projects
      responses:
        '200':
          description: A JSON array of projects
          content:
            application/json:
              schema:
                type: object
                properties:
                  projects:
                    type: array
                    items:
                      $ref: '#/components/schemas/project'
                  totalCount:
                    type: integer
                    minimum: 0
                  page:
                    type: integer
                    minimum: 1
                  perPage:
                    type: integer
                    minimum: 1
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          description: Internal server error
  '/projects/{projectIdOrAlias}/models':
    parameters:
      - $ref: '#/components/parameters/projectIdOrAliasParam'
      - $ref: '#/components/parameters/pageParam'
      - $ref: '#/components/parameters/perPageParam'
    get:
      operationId: ModelFilter
      security:
        - bearerAuth: []
      summary: Returns a models.
      tags:
        - Models
      description: Returns a models.
      responses:
        '200':
          description: A JSON array of user names
          content:
            application/json:
              schema:
                type: object
                properties:
                  models:
                    type: array
                    items:
                      $ref: '#/components/schemas/model'
                  totalCount:
                    type: integer
                    minimum: 0
                  page:
                    type: integer
                    minimum: 1
                  perPage:
                    type: integer
                    minimum: 1
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
        '500':
          description: Internal server error
    post:
      operationId: ModelCreate
      summary: create a model
      tags:
        - Models
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                key:
                  type: string
      responses:
        '200':
          description: A JSON object of model
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/model'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
  '/models/{modelId}':
    parameters:
      - $ref: '#/components/parameters/modelIdParam'
    get:
      operationId: ModelGet
      security:
        - bearerAuth: []
      summary: Returns a model.
      tags:
        - Models
      description: Returns a model.
      responses:
        '200':
          description: A JSON array of user names
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/model'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
        '500':
          description: Internal server error
    patch:
      operationId: ModelUpdate
      security:
        - bearerAuth: []
      summary: Update a model.
      tags:
        - Models
      description: Update a model.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                key:
                  type: string
      responses:
        '200':
          description: A JSON object of model
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/model'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
    delete:
      operationId: ModelDelete
      summary: delete a model
      tags:
          - Models
      security:
          - bearerAuth: []
      responses:
          '200':
            description: delete a model
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    id:
                      x-go-type: id.ModelID
                      type: string
          '400':
            description: Invalid request parameter value
          '401':
            $ref: '#/components/responses/UnauthorizedError'
  '/models/{modelId}/fields':
    parameters:
      - $ref: '#/components/parameters/modelIdParam'
    post:
      operationId: FieldCreate
      summary: create a field
      tags:
        - Fields
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                type:
                  $ref: '#/components/schemas/valueType'
                key:
                  type: string
                required:
                  type: boolean
                multiple:
                  type: boolean
      responses:
        '200':
          description: A JSON object of field
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/schemaField'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
  '/models/{modelId}/fields/{fieldIdOrKey}':
    parameters:
      - $ref: '#/components/parameters/modelIdParam'
      - $ref: '#/components/parameters/fieldIdOrKeyParam'
    patch:
      operationId: FieldUpdate
      summary: update a field
      tags:
        - Fields
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                type:
                  $ref: '#/components/schemas/valueType'
                key:
                  type: string
                required:
                  type: boolean
                multiple:
                  type: boolean
      responses:
        '200':
          description: A JSON object of field
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/schemaField'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
    delete:
      operationId: FieldDelete
      summary: delete a field
      tags:
        - Fields
      security:
        - bearerAuth: [ ]
      responses:
        '200':
          description: A JSON object of field
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    x-go-type: id.FieldID
                    type: string
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
  '/models/{modelId}/items':
    parameters:
      - $ref: '#/components/parameters/modelIdParam'
    get:
      operationId: ItemFilter
      security:
        - bearerAuth: []
      summary: Returns a list of items.
      tags:
        - Items
      description: Returns a list of items with filtering and ordering.
      parameters:
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/sortDirParam'
        - $ref: '#/components/parameters/pageParam'
        - $ref: '#/components/parameters/perPageParam'
        - $ref: '#/components/parameters/refParam'
        - $ref: '#/components/parameters/assetParam'
        - name: query
          in: query
          description: query string
          required: false
          schema:
            type: string
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                filter:
                  $ref: '#/components/schemas/condition'
      responses:
        '200':
          description: A JSON array of user names
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/versionedItem'
                  totalCount:
                    type: integer
                    minimum: 0
                  page:
                    type: integer
                    minimum: 1
                  perPage:
                    type: integer
                    minimum: 1
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
        '500':
          description: Internal server error
    post:
      operationId: ItemCreate
      summary: create an item
      tags:
        - Items
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                fields:
                  type: array
                  items:
                    $ref: '#/components/schemas/field'
                metadataFields:
                  type: array
                  items:
                    $ref: '#/components/schemas/field'
      responses:
        '200':
          description: A JSON array of user names
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/versionedItem'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
  '/projects/{projectIdOrAlias}/models/{modelIdOrKey}':
    parameters:
      - $ref: '#/components/parameters/projectIdOrAliasParam'
      - $ref: '#/components/parameters/modelIdOrKeyParam'
    get:
      operationId: ModelGetWithProject
      security:
        - bearerAuth: []
      summary: Returns a model.
      tags:
        - Models
      description: Returns a model.
      responses:
        '200':
          description: A JSON array of user names
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/model'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
        '500':
          description: Internal server error
    patch:
      operationId: ModelUpdateWithProject
      security:
        - bearerAuth: [ ]
      summary: Update a model.
      tags:
        - Models
      description: Update a model.
      requestBody:
          required: true
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  description:
                    type: string
                  key:
                    type: string
      responses:
        '200':
          description: A JSON object of model
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/model'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
        '500':
          description: Internal server error
    delete:
      operationId: ModelDeleteWithProject
      security:
        - bearerAuth: [ ]
      summary: Delete a model.
      tags:
        - Models
      description: Delete a model.
      responses:
        '200':
          description: The model id
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    x-go-type: id.ModelID
                    type: string
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
        '500':
          description: Internal server error
  '/projects/{projectIdOrAlias}/models/{modelIdOrKey}/fields':
    parameters:
      - $ref: '#/components/parameters/projectIdOrAliasParam'
      - $ref: '#/components/parameters/modelIdOrKeyParam'
    post:
      operationId: FieldCreateWithProject
      summary: create a field
      tags:
        - Fields
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                type:
                  $ref: '#/components/schemas/valueType'
                key:
                  type: string
                required:
                  type: boolean
                multiple:
                  type: boolean
      responses:
        '200':
          description: A JSON object of field
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/schemaField'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
  '/projects/{projectIdOrAlias}/models/{modelIdOrKey}/fields/{fieldIdOrKey}':
    parameters:
      - $ref: '#/components/parameters/projectIdOrAliasParam'
      - $ref: '#/components/parameters/modelIdOrKeyParam'
      - $ref: '#/components/parameters/fieldIdOrKeyParam'
    patch:
      operationId: FieldUpdateWithProject
      summary: update a field
      tags:
        - Fields
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                type:
                  $ref: '#/components/schemas/valueType'
                key:
                  type: string
                required:
                  type: boolean
                multiple:
                  type: boolean
      responses:
        '200':
          description: A JSON object of field
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/schemaField'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
    delete:
      operationId: FieldDeleteWithProject
      security:
        - bearerAuth: [ ]
      summary: Delete a field.
      tags:
        - Fields
      description: Returns the field id.
      responses:
        '200':
          description: A field id
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    x-go-type: id.FieldID
                    type: string
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
        '500':
          description: Internal server error
  '/projects/{projectIdOrAlias}/models/{modelIdOrKey}/items':
    parameters:
      - $ref: '#/components/parameters/projectIdOrAliasParam'
      - $ref: '#/components/parameters/modelIdOrKeyParam'
    get:
      operationId: ItemFilterWithProject
      security:
        - bearerAuth: []
      summary: Returns a list of items.
      tags:
        - Items project
      description: Returns a list of items with filtering and ordering.
      parameters:
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/sortDirParam'
        - $ref: '#/components/parameters/pageParam'
        - $ref: '#/components/parameters/perPageParam'
        - $ref: '#/components/parameters/refParam'
        - $ref: '#/components/parameters/assetParam'
      responses:
        '200':
          description: A JSON array of user names
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/versionedItem'
                  totalCount:
                    type: integer
                    minimum: 0
                  page:
                    type: integer
                    minimum: 1
                  perPage:
                    type: integer
                    minimum: 1
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
        '500':
          description: Internal server error
    post:
      operationId: ItemCreateWithProject
      tags:
        - Items project
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                fields:
                  type: array
                  items:
                    $ref: '#/components/schemas/field'
                metadataFields:
                  type: array
                  items:
                    $ref: '#/components/schemas/field'
      responses:
        '200':
          description: A JSON array of user names
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/versionedItem'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
  '/items/{itemId}':
    parameters:
      - $ref: '#/components/parameters/itemIdParam'
    get:
      operationId: ItemGet
      security:
        - bearerAuth: []
      summary: Returns an items.
      tags:
        - Items
      description: Returns an item.
      parameters:
        - $ref: '#/components/parameters/refParam'
        - $ref: '#/components/parameters/assetParam'
      responses:
        '200':
          description: An item
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/versionedItem'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
        '500':
          description: Internal server error
    patch:
      operationId: ItemUpdate
      security:
        - bearerAuth: []
      summary: Update an item.
      tags:
        - Items
      description: Update an item.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                fields:
                  type: array
                  items:
                    $ref: '#/components/schemas/field'
                metadataFields:
                  type: array
                  items:
                    $ref: '#/components/schemas/field'
                asset:
                  $ref: '#/components/schemas/assetEmbedding'
      responses:
        '200':
          description: An item
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/versionedItem'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
        '500':
          description: Internal server error
    delete:
      operationId: ItemDelete
      summary: delete an item
      tags:
        - Items
      security:
        - bearerAuth: []
      responses:
        '200':
          description: delete an item
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    x-go-type: id.ItemID
                    type: string
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
  '/items/{itemId}/comments':
    parameters:
      - $ref: '#/components/parameters/itemIdParam'
    get:
      operationId: ItemCommentList
      tags:
        - Items comments
      security:
        - bearerAuth: []
      responses:
        '200':
          description: item comments list
          content:
            application/json:
              schema:
                type: object
                properties:
                  comments:
                    type: array
                    items:
                      $ref: '#/components/schemas/comment'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
    post:
      operationId: ItemCommentCreate
      tags:
        - Items comments
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/comment'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
  '/items/{itemId}/comments/{commentId}':
    parameters:
      - $ref: '#/components/parameters/itemIdParam'
      - $ref: '#/components/parameters/commentIdParam'
    patch:
      operationId: ItemCommentUpdate
      tags:
        - Items comments
      security:
        - bearerAuth: []
      summary: Update Item Comment
      description: ''
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: string
      responses:
        '200':
          description: Update An item comment
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/comment'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
    delete:
      operationId: ItemCommentDelete
      tags:
        - Items comments
      security:
        - bearerAuth: []
      responses:
        '200':
          description: delete an item comment
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    x-go-type: id.CommentID
                    type: string
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
  '/projects/{projectId}/assets':
    parameters:
      - $ref: '#/components/parameters/projectIdParam'
    get:
      operationId: AssetFilter
      tags:
        - Assets project
      security:
        - bearerAuth: []
      summary: Returns a list of assets.
      description: Returns a list of assets with filtering and ordering.
      parameters:
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/sortDirParam'
        - $ref: '#/components/parameters/pageParam'
        - $ref: '#/components/parameters/perPageParam'
      responses:
        '200':
          description: assets list
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/asset'
                  totalCount:
                    type: integer
                    minimum: 0
                  page:
                    type: integer
                    minimum: 1
                  perPage:
                    type: integer
                    minimum: 1
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
    post:
      operationId: AssetCreate
      tags:
        - Assets project
      security:
        - bearerAuth: []
      summary: Create an new asset.
      description: Create a new asset and return the created asset.
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                skipDecompression:
                  type: boolean
                  default: false
          application/json:
            schema:
              type: object
              properties:
                url:
                  type: string
                token:
                  type: string
                skipDecompression:
                  type: boolean
                  nullable: true
                  default: false
      responses:
        '200':
          description: assets
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/asset'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
  '/projects/{projectId}/assets/uploads':
    post:
      operationId: AssetUploadCreate
      tags:
        - Assets project
      security:
        - bearerAuth: []
      summary: Upload an asset.
      description: Issue a URL and a token to upload an asset.
      parameters:
        - $ref: '#/components/parameters/projectIdParam'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                contentLength:
                  type: integer
                cursor:
                  type: string
      responses:
        '200':
          description: asset upload
          content:
            application/json:
              schema:
                type: object
                properties:
                  url:
                    type: string
                  token:
                    type: string
                  contentType:
                    type: string
                  contentLength:
                    type: integer
                  next:
                    type: string
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
  '/assets/{assetId}':
    parameters:
      - $ref: '#/components/parameters/assetIdParam'
    get:
      operationId: AssetGet
      tags:
        - Assets
      responses:
        '200':
          description: assets list
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/asset'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
    delete:
      operationId: AssetDelete
      tags:
        - Assets
      responses:
        '200':
          description: assets list
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    x-go-type: id.AssetID
                    type: string
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
  '/assets/{assetId}/comments':
    parameters:
      - $ref: '#/components/parameters/assetIdParam'
    get:
      operationId: AssetCommentList
      tags:
        - Assets comments
      security:
        - bearerAuth: []
      responses:
        '200':
          description: asset comments list
          content:
            application/json:
              schema:
                type: object
                properties:
                  comments:
                    type: array
                    items:
                      $ref: '#/components/schemas/comment'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
    post:
      operationId: AssetCommentCreate
      tags:
        - Assets comments
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/comment'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
  '/assets/{assetId}/comments/{commentId}':
    parameters:
      - $ref: '#/components/parameters/assetIdParam'
      - $ref: '#/components/parameters/commentIdParam'
    patch:
      operationId: AssetCommentUpdate
      tags:
        - Assets comments
      security:
        - bearerAuth: []
      summary: Update AssetComment
      description: ''
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: string
      responses:
        '200':
          description: Update An asset comment
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/comment'
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found
    delete:
      operationId: AssetCommentDelete
      tags:
        - Assets comments
      security:
        - bearerAuth: []
      responses:
        '200':
          description: delete an asset comment
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    x-go-type: id.CommentID
                    type: string
        '400':
          description: Invalid request parameter value
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Not found

components:
  parameters:
    workspaceIdParam:
      name: workspaceId
      in: path
      description: ID of the selected workspace
      required: true
      schema:
        x-go-type: accountdomain.WorkspaceID
    projectIdParam:
      name: projectId
      in: path
      description: ID of the selected project
      required: true
      schema:
        x-go-type: id.ProjectID
    projectIdOrAliasParam:
      name: projectIdOrAlias
      in: path
      description: ID or alias of the project
      required: true
      schema:
        type: string
        x-go-type: project.IDOrAlias
    modelIdParam:
      name: modelId
      in: path
      description: ID of the model in the project
      required: true
      schema:
        type: string
        x-go-type: id.ModelID
    fieldIdParam:
      name: fieldId
      in: path
      description: ID of the field in the models schema
      required: true
      schema:
        type: string
        x-go-type: id.FieldID
    modelIdOrKeyParam:
      name: modelIdOrKey
      in: path
      description: ID or key of the model in the project
      required: true
      schema:
        type: string
        x-go-type: model.IDOrKey
    fieldIdOrKeyParam:
      name: fieldIdOrKey
      in: path
      description: ID or key of the field in the models schema
      required: true
      schema:
        type: string
        x-go-type: schema.FieldIDOrKey
    itemIdParam:
      name: itemId
      in: path
      description: ID of the selected item
      required: true
      schema:
        type: string
        x-go-type: id.ItemID
    assetIdParam:
      name: assetId
      in: path
      description: ID of the selected asset
      required: true
      schema:
        type: string
        x-go-type: id.AssetID
    commentIdParam:
      name: commentId
      in: path
      description: ID of the selected comment
      required: true
      schema:
        x-go-type: id.CommentID
        type: string
    sortParam:
      name: sort
      in: query
      description: Used to define the order of the response list
      required: false
      schema:
        type: string
        default: createdAt
        enum:
          - createdAt
          - updatedAt
    sortDirParam:
      name: dir
      in: query
      description: 'Used to define the order direction of the response list, will be ignored if the order is not presented'
      required: false
      schema:
        type: string
        default: desc
        enum:
          - asc
          - desc
    pageParam:
      name: page
      in: query
      description: Used to select the page
      required: false
      schema:
        type: integer
        default: 1
        minimum: 1
    perPageParam:
      name: perPage
      in: query
      description: Used to select the page
      required: false
      schema:
        type: integer
        default: 50
        minimum: 1
        maximum: 100
    refParam:
      name: ref
      in: query
      description: Used to select a ref or ver
      required: false
      schema:
        type: string
        default: latest
        enum:
          - latest
          - public
    assetParam:
      name: asset
      in: query
      description: Specifies whether asset data are embedded in the results
      schema:
        $ref: '#/components/schemas/assetEmbedding'
  schemas:
    project:
      type: object
      properties:
        id:
          x-go-type: id.ProjectID
          type: string
        name:
          type: string
        description:
          type: string
        alias:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    model:
      type: object
      properties:
        id:
          x-go-type: id.ModelID
          type: string
        projectId:
          x-go-type: id.ProjectID
          type: string
        schemaId:
          x-go-type: id.SchemaID
          type: string
        metadataSchemaId:
          x-go-type: id.SchemaID
          type: string
        name:
          type: string
        description:
          type: string
        public:
          type: boolean
        key:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        lastModified:
          type: string
          format: date-time
    schema:
      type: object
      properties:
        id:
          x-go-type: id.SchemaID
          type: string
        projectId:
          x-go-type: id.ProjectID
          type: string
        fields:
          type: array
          items:
            $ref: '#/components/schemas/schemaField'
        TitleField:
          x-go-type: id.FieldID
          type: string
        createdAt:
          type: string
          format: date-time
    valueType:
      type: string
      enum:
        - text
        - textArea
        - richText
        - markdown
        - checkbox
        - asset
        - date
        - bool
        - select
        - integer
        - reference
        - url
        - group
        - tag
    tagResponse:
      type: object
      properties:
        id:
          x-go-type: id.TagID
          type: string
        name:
          type: string
        color:
          type: string
    schemaField:
      type: object
      properties:
        id:
          x-go-type: id.FieldID
          type: string
        type:
          $ref: '#/components/schemas/valueType'
        key:
          type: string
        required:
          type: boolean
        multiple:
          type: boolean
    version:
      type: object
      properties:
        version:
          type: string
          format: uuid
        parents:
          type: array
          items:
            type: string
            format: uuid
        refs:
          type: array
          items:
            type: string
            format: uuid
    item:
      type: object
      properties:
        id:
          x-go-type: id.ItemID
          type: string
        metadataItemId:
          x-go-type: id.ItemID
          type: string
        originalItemId:
          x-go-type: id.ItemID
          type: string
        modelId:
          type: string
        fields:
          type: array
          items:
            $ref: '#/components/schemas/field'
        createdAt:
          type: string
          format: date-time
        isMetadata:
          type: boolean
        updatedAt:
          type: string
          format: date-time
    versionedItem:
      type: object
      properties:
        id:
          x-go-type: id.ItemID
          type: string
        modelId:
          type: string
        fields:
          type: array
          items:
            $ref: '#/components/schemas/field'
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        version:
          type: string
          format: uuid
        parents:
          type: array
          items:
            type: string
            format: uuid
        refs:
          type: array
          items:
            type: string
        referencedItems:
          type: array
          items:
            $ref: '#/components/schemas/versionedItem'
        metadataFields:
          type: array
          items:
            $ref: '#/components/schemas/field'
        isMetadata:
          type: boolean
    field:
      type: object
      properties:
        id:
          x-go-type: id.FieldID
          type: string
        type:
          $ref: '#/components/schemas/valueType'
        value: {}
        key:
          type: string
        group:
          x-go-type: id.ItemGroupID
          type: string
    refOrVersion:
      type: object
      properties:
        ref:
          type: string
          enum:
            - latest
            - public
        version:
          type: string
          format: uuid
    assetEmbedding:
      type: string
      enum:
        - all
        - "true"
        - "false"
    asset:
      type: object
      required:
        - id
        - projectId
        - url
        - createdAt
        - updatedAt
      properties:
        id:
          x-go-type: id.AssetID
          type: string
        projectId:
          x-go-type: id.ProjectID
          type: string
        name:
          type: string
        url:
          type: string
        contentType:
          type: string
        previewType:
          type: string
          enum:
            - image
            - image_svg
            - geo
            - geo_3d_Tiles
            - geo_mvt
            - model_3d
            - csv
            - unknown
        totalSize:
          type: number
        archiveExtractionStatus:
          type: string
          enum:
            - pending
            - in_progress
            - done
            - failed
        file:
          $ref: '#/components/schemas/file'
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    comment:
      type: object
      properties:
        id:
          x-go-type: id.CommentID
          type: string
        authorId:
          type: string
          x-go-type: any
        authorType:
          type: string
          enum:
            - user
            - integrtaion
        content:
          type: string
        createdAt:
          type: string
          format: date-time
    file:
      type: object
      properties:
        name:
          type: string
        size:
          type: number
        contentType:
          type: string
        path:
          type: string
        children:
          type: array
          items:
            $ref: '#/components/schemas/file'
    fieldSelector:
      type: object
      properties:
        fieldId:
          x-go-type: id.FieldID
          type: string
        type:
          type: string
          enum:
            - id
            - creationDate
            - creationUser
            - modificationDate
            - modificationUser
            - status
            - field
            - metaField
    condition:
        type: object
        properties:
          and:
            type: array
            items:
              $ref: '#/components/schemas/condition'
          or:
            type: array
            items:
              $ref: '#/components/schemas/condition'
          basic:
            type: object
            properties:
              fieldId:
                $ref: '#/components/schemas/fieldSelector'
              operator:
                type: string
                enum:
                  - equals
                  - notEquals
              value: {}
          nullable:
            type: object
            properties:
              fieldId:
                $ref: '#/components/schemas/fieldSelector'
              operator:
                type: string
                enum:
                  - empty
                  - notEmpty
          multiple:
            type: object
            properties:
              fieldId:
                $ref: '#/components/schemas/fieldSelector'
              operator:
                type: string
                enum:
                  - includesAny
                  - notIncludesAny
                  - includesAll
                  - notIncludesAll
              value:
                type: array
                items: {}
            required:
              - fieldId
              - operator
              - value
          bool:
            type: object
            properties:
              fieldId:
                $ref: '#/components/schemas/fieldSelector'
              operator:
                type: string
                enum:
                  - equals
                  - notEquals
              value:
                type: boolean
            required:
              - fieldId
              - operator
              - value
          string:
            type: object
            properties:
              fieldId:
                $ref: '#/components/schemas/fieldSelector'
              operator:
                type: string
                enum:
                  - contains
                  - notContains
                  - startsWith
                  - endsWith
                  - notStartsWith
                  - notEndsWith
              value:
                type: string
            required:
              - fieldId
              - operator
              - value
          number:
            type: object
            properties:
              fieldId:
                $ref: '#/components/schemas/fieldSelector'
              operator:
                type: string
                enum:
                  - greaterThan
                  - lessThan
                  - greaterThanOrEqualTo
                  - lessThanOrEqualTo
              value:
                type: number
            required:
              - fieldId
              - operator
              - value
          time:
            type: object
            properties:
              fieldId:
                $ref: '#/components/schemas/fieldSelector'
              operator:
                type: string
                enum:
                  - before
                  - after
                  - beforeOrOn
                  - afterOrOn
                  - ofThisWeek
                  - ofThisMonth
                  - ofThisYear
              value:
                type: string
                format: date-time
            required:
              - fieldId
              - operator
              - value
  responses:
    UnauthorizedError:
      description: Access token is missing or invalid
    NotFoundError:
      description: The requested resource was not found
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
